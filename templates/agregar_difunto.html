{% extends "base.html" %}

{% block title %}Agregar Difunto{% endblock %}

{% block content %}
<div class="container">
    <h1>Registro de Difuntos</h1>

    <!-- Formulario para agregar difunto -->
    <form action="/agregar_difunto" method="post">
        <label for="nombre_completo">Nombre Completo:</label>
        <input type="text" id="nombre_completo" name="nombre_completo" required><br>

        <label for="apellido_paterno">Apellido Paterno:</label>
        <input type="text" id="apellido_paterno" name="apellido_paterno" required><br>

        <label for="apellido_materno">Apellido Materno:</label>
        <input type="text" id="apellido_materno" name="apellido_materno" required><br>

        <label for="fecha_defuncion">Fecha de Defunción:</label>
        <div class="form-center"> <input type="date" id="fecha_defuncion" name="fecha_defuncion" required><br>
        </div>
        <label for="fecha">Fecha Recepcion:</label>
        <div class="form-center"><input type="date" id="fecha" name="fecha" required><br>
        </div>
        <label for="cripta">Cripta:</label>
        <input type="text" id="cripta" name="cripta" required><br>
        
        <div class="form-center"><input type="submit" value="Agregar Difunto"> 
    </form></div>

    <!-- Tabla para mostrar difuntos -->
    <div style="overflow-x:auto;">
        <table id="tabla-difuntos">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre Completo</th>
                    <th>Apellido Paterno</th>
                    <th>Apellido Materno</th>
                    <th>Cripta</th>
                    <th>Fecha de Defunción</th>
                    <th>Fecha</th>
                </tr>
            </thead>
            <tbody>
                {% for difunto in difuntos %}
                <tr>
                    <td>{{ difunto.ID_difunto }}</td>
                    <td>{{ difunto.Nombre_completo }}</td>
                    <td>{{ difunto.Apellido_paterno }}</td>
                    <td>{{ difunto.Apellido_materno }}</td>
                    <td>{{ difunto.Cripta }}</td>
                    <td>{{ difunto.Fecha_defuncion }}</td>
                    <td>{{ difunto.Fecha }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <ul class="flashes">
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        {% endwith %}
    </div>
</div>
{% endblock %}
